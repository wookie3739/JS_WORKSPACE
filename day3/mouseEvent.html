<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let fruit;
        let flag = false;
        //마우스가 움직이는 동안 좌표를 실시간으로 얻어와서 input에 출력해보자
        function getPos(){
            let x = event.clientX; // x축 좌표
            let y = event.clientY; // y축 좌표
            document.getElementById("tx").value = x;
            document.getElementById("ty").value = y;


            // 구해진 좌표를 이용하여 이미지의 좌표에 써먹자
            //중심점이 맞지 않기 때문에 이미지의 절반 크기만큼
            // x축 감소, y축 감소

            if(flag){
                //이동가능한 상태인 경우 테두리를 적용
            fruit.style.border = "2px dotted red";

            fruit.style.left = (x-100)+"px";
            fruit.style.top = (y-100)+"px";
        }else{
            fruit.style.border = "";
        }
        }   

        //문서 로드와 함게 처리될 초기화 작업
        addEventListener('load', function(){
           fruit = document.createElement("img");
            fruit.src = "../images/food/banana.png";
            fruit.style.position = "absolute";
            fruit.style.top=300+"px";
            fruit.style.width=200+"px";
            //바나나를 대상으로 클릭 이벤트 연결
            fruit.addEventListener('mousedown', function(){
                flag = !flag;
            })

            let wrapper = document.getElementById('wrapper');
            wrapper.appendChild(fruit);




        });
    </script>
    <style>
        #wrapper{
            width:100%;
            height:100vh;
            background-color: aqua;
        }
        #wrapper #dish{
            width:700px;
            left:1000px;
            top:200px;
            position:absolute;

        }
    </style>
</head>
<body onmousemove="getPos()">

    
    <div id = "wrapper">
        x: <input type="text" id = "tx">
        y: <input type="text" id = "ty">
        <img id = "dish" src="../images/food/dish.jpg" alt="">
    </div>
</body>
</html>