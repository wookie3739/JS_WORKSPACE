<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>

#wrapper{
    width:500px;
    height:400px;
    /* background-color: red; */
    margin: 0 auto;
}
#frame{
    width:100%;
    height:340px;
    background-color: yellow;
    overflow: hidden;
}
#box{
    width:3500px;
    height:340px;
    position:relative;
    /* background-color: purple; */
}
#navi{
    font-size: 40px;
    text-align: center;
}

</style>
<script>
    let box;
    let a = 0.1;
    let targetX = 0;
    //box라는 div의 left 값을 감속도 공식으로 변경
    function move(){
        box.style.left = parseFloat(box.style.left) + a*(targetX - parseFloat(box.style.left)) + "px";

    }

    function init(){
        //이미지 7개를 생성하되, 0px부터 500씩
        // box라는 div에 자식으로 추가
        for(let i = 0; i <= 6; i++){
            let img = document.createElement('img');
        img.src = "../images/Shrek/img"+i+".jpg";
        img.style.width = 500 + 'px';
        img.style.height = 340 + 'px';
        img.style.position = 'absolute';
        img.style.left = i*500+ 'px';
      //생성 된 이미지를 box div에 부착
        box = document.getElementById('box');
        box.style.left = 0 + 'px';
        box.appendChild(img);

    }
    for(let i = 0; i < 7; i++){
        let span = document.createElement('span');
        span.innerText = '●';
        document.getElementById('navi').appendChild(span);
        span.style.cursor = 'pointer';
        span.addEventListener('click', function(event){
            console.log(i, "번째 버튼 클릭");
            //i를 이용하여 targetX 값을 조정하기
            console.log(event.clientX);
            targetX = i*(-500);


        });

    }
}
    //슈렉 갤러리의 targetX의 값을 키보드를 통해 제어하자.
    // 단 키보드의 좌,우 키만 적용
    function control(){
        if(event.keyCode === 37){
            targetX = targetX + 500;
        }else{
            targetX = targetX - 500;
        }
    }
    addEventListener('load', function(){
        init();

        //애니메이션 구현을 위해서는 끊임없는 자동호출이 필요하다.
        setInterval('move()', 10);
    });

</script>
<body onKeydown = "control()">

    <div id = 'wrapper'>
        <div id = 'frame'>
            <div id = 'box'>
                <!-- <img src="../images/Shrek/img0.jpg" alt="">
                <img src="../images/Shrek/img1.jpg" alt="">
                <img src="../images/Shrek/img2.jpg" alt="">
                <img src="../images/Shrek/img3.jpg" alt="">
                <img src="../images/Shrek/img4.jpg" alt="">
                <img src="../images/Shrek/img5.jpg" alt="">
                <img src="../images/Shrek/img6.jpg" alt=""> -->
            </div>
        </div>
        <div id = 'navi'>
            <!-- <span>●</span> -->
        </div>
    </div>








</body>
</html>











